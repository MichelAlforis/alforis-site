import { useEffect } from 'react'
import {
  motion,
  useAnimationControls,
  useMotionValue,
  useSpring,
  useMotionTemplate,
} from 'framer-motion'
import { couleurs } from '@/public/styles/colors'

export default function HeroSceau(className = "") {
  const controls = useAnimationControls()

  const fillColor = useMotionValue(couleurs.acier)
  const strokeColor = useMotionValue(couleurs.dorÃ©)
  const strokeWidth = useMotionValue(5)
  const strokeSpring = useSpring(strokeWidth, { stiffness: 200, damping: 20 })

  const fillColorTemplate = useMotionTemplate`${fillColor}`
  const strokeColorTemplate = useMotionTemplate`${strokeColor}`

  const handleMouseEnter = () => {
    console.log("ðŸŸ¡ Mouse entered logo");
    console.log("âž¡ï¸ Fill color before set:", couleurs.acier);
    console.log("âž¡ï¸ Stroke color before set:", couleurs.dorÃ©);
    fillColor.set(couleurs.acier)
    strokeColor.set(couleurs.dorÃ©)
    strokeWidth.set(2)

    controls.start([
      {
        pathLength: 1,
        transition: { duration: 0.6, ease: 'easeOut', delay: 0.1 },
      },
      {
        rotate: [0, -1, 1, 0],
        transition: { duration: 0.3 },
      },
    ])
  }

  const handleMouseLeave = () => {
    console.log("ðŸŸ¡ Mouse entered logo");
    console.log("âž¡ï¸ Fill color before set:", couleurs.acier);
    console.log("âž¡ï¸ Stroke color before set:", couleurs.dorÃ©);
    fillColor.set(couleurs.dorÃ©)
    strokeColor.set(couleurs.acier)
    strokeWidth.set(2)

    controls.start([
      {
        pathLength: 0.8,
        transition: { duration: 0.4, delay: 0.1 },
      },
      {
        rotate: 0,
        transition: { duration: 0.3 },
      },
    ])
  }

  useEffect(() => {
    controls.start({
      opacity: [0, 1],
      scale: [0.6, 1],
      transition: { duration: 1.4, ease: 'easeOut' },
    })
  }, [])

  return (
          <motion.div
            className={`relative w-[120px] h-auto ${className}`}
            onMouseEnter={handleMouseEnter}
            onMouseLeave={handleMouseLeave}
            style={{ pointerEvents: 'none', background: 'transparent', backdropFilter: 'none', mixBlendMode: 'normal' }}
          >


          <motion.svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 500 500"
            fill="none"
            className="w-full h-auto overflow-visible drop-shadow-xl"
            style={{ display: 'block' }}
          >
        <motion.path
          d="M -27.98 7.8094 C -60.24 12.0799 -77.896 17.1455 -105.32 30.0011 C -154.8769 53.2301 -193.0649 89.8697 -219.8357 139.878 C -255.239 206.008 -253.1585 292.381 -214.4005 365.587 C -147.676 491.61 6.698 532.696 129.573 457.133 C 159.195 438.917 192.053 404.711 210.765 372.606 C 215.844 363.896 216.02 362.634 212.899 357.409 C 211.025 354.275 208.469 351.723 207.218 351.738 C 205.967 351.756 200.233 359.293 194.476 368.49 C 183.07 386.711 162.223 411.818 158.524 411.787 C 157.249 411.779 151.515 405.253 145.781 397.284 C 140.047 389.318 129.698 375.209 122.782 365.935 C 115.866 356.658 101.812 337.671 91.551 323.741 C 81.288 309.811 71.047 296.493 68.793 294.143 C 66.537 291.795 64.692 289.081 64.692 288.112 C 64.692 285.67 57.121 277.49 54.86 277.49 C 53.843 277.49 51.836 279.939 50.402 282.93 C 48.419 287.068 48.482 289.161 50.667 291.663 C 53 294.334 52.675 296.109 48.947 301.089 C 44.372 307.203 15.847 351.655 5.088 369.441 C 1.974 374.588 -1.789 378.773 -3.271 378.74 C -4.756 378.705 -11.656 369.536 -18.606 358.367 C -25.554 347.197 -37.391 329.271 -44.907 318.534 C -55.858 302.891 -58.317 297.801 -57.288 292.903 C -56.35 288.445 -57.304 285.685 -60.821 282.692 C -65.506 278.704 -65.71 278.704 -68.239 282.668 C -78.769 299.169 -154.1192 409.149 -156.5171 411.523 C -159.0378 414.014 -161.1832 412.552 -169.4334 402.713 C -182.5744 387.043 -201.7414 358.645 -201.7414 354.844 C -201.7414 353.174 -192.0733 339.299 -180.2576 324.01 C -168.4418 308.72 -139.771 270.938 -116.543 240.049 C -73.158 182.356 -55.655 160.521 -70.911 183.129 C -78.809 194.835 -79.305 196.626 -79.14 212.862 C -78.744 252.129 -56.95 286.681 -18.718 308.659 L -4.147 317.032 L 7.683 311.026 C 23.787 302.851 50.502 276.864 58.09 261.992 C 69.118 240.377 70.292 235.525 70.095 212.404 C 69.924 192.214 69.222 188.717 62.77 175.863 C 55.84 162.061 29.361 134.332 23.108 134.332 C 19.895 134.332 21.859 137.731 34.576 154.154 C 39.736 160.816 46.788 171.718 50.249 178.381 C 55.884 189.226 56.544 192.921 56.563 213.659 C 56.581 235.338 56.104 237.749 49.089 251.303 C 40.382 268.123 24.294 285.245 8.208 294.81 C -2.375 301.102 -3.512 301.329 -9.568 298.354 C -18.789 293.819 -37.646 278.01 -42.687 270.583 C -46.454 265.033 -46.524 264.275 -43.267 264.275 C -41.23 264.275 -39.564 263.364 -39.564 262.249 C -39.564 258.981 -10.734 215.128 -8.021 214.269 C -6.659 213.838 2.699 225.389 12.777 239.939 C 22.853 254.49 32.424 266.412 34.043 266.436 C 35.665 266.458 38.119 264.123 39.497 261.247 C 41.735 256.578 39.775 252.858 21.243 226.559 C 9.823 210.358 -0.746 194.873 -2.247 192.146 C -3.746 189.419 -5.871 187.19 -6.967 187.19 C -8.06 187.19 -18.697 202.557 -30.6 221.337 C -42.504 240.119 -53.182 255.188 -54.327 254.825 C -55.472 254.464 -58.518 249.255 -61.099 243.253 C -67.718 227.847 -67.544 197.608 -60.728 179.687 C -55.048 164.75 -54.987 164.439 -58.099 166.267 C -63.073 169.19 -59.769 163.785 -43.461 142.327 C -34.136 130.055 -20.511 111.839 -13.183 101.846 C -5.855 91.854 0.897 83.6764 1.821 83.6764 S 7.627 88.8675 12.668 95.2105 C 17.707 101.554 23.08 108.245 24.605 110.077 C 27.144 113.127 70.318 167.741 131.709 245.555 C 145.088 262.513 156.635 276.884 157.37 277.49 C 158.95 278.794 177.179 301.723 198.519 329.247 C 199.457 330.458 204.339 337.187 209.364 344.202 C 218.307 356.683 218.561 356.846 221.444 351.91 C 228.285 340.195 230.22 343.153 156.151 252.162 C 131.081 221.366 51.22 120.981 33.415 97.8843 C 7.421 64.1651 1.791 57.2495 0.341 57.2605 C -0.582 57.2693 -3.111 60.2382 -5.28 63.8612 C -7.446 67.4842 -23.02 88.5372 -39.886 110.65 C -56.753 132.76 -76.592 158.779 -83.975 168.47 C -91.361 178.161 -98.231 187.08 -99.245 188.292 C -101.738 191.272 -126.922 224.407 -136.426 237.212 C -147.299 251.86 -177.0766 290.698 -194.3253 312.729 C -202.3878 323.025 -210.1491 331.449 -211.5717 331.449 C -215.5427 331.449 -224.2053 298.063 -227.1824 271.279 C -235.1291 199.788 -208.1984 129.78 -154.3231 81.8682 C -125.636 56.3597 -91.095 37.9849 -53.465 28.2193 C -26.889 21.3235 28.74 20.8588 55.425 27.3119 C 145.818 49.1666 213.05 120.571 226.874 209.398 C 230.991 235.84 228.811 282.276 222.405 304.593 L 217.47 321.785 L 222.329 328.269 C 225 331.835 227.593 334.753 228.093 334.753 C 230.178 334.753 238.864 303.688 242.23 284.19 C 250.876 234.115 238.811 169.811 212.593 126.249 C 187.472 84.5134 151.814 52.2456 107.554 31.2014 C 77.718 17.0156 62.693 12.7759 24.148 7.6685 C -2.85 4.0918 0.181 4.0829 -27.98 7.8094 Z M 63.277 312.297 C 61.933 313.141 57.272 319.926 52.918 327.377 C 32.577 362.173 -1.385 416.243 -2.901 416.243 C -3.83 416.243 -8.385 410.05 -13.023 402.478 C -43.533 352.672 -68.694 312.854 -69.683 312.81 C -71.034 312.751 -73.939 316.936 -100.049 356.544 C -145.23 425.081 -145.818 426.064 -143.339 428.905 C -138.828 434.076 -112.563 450.88 -98.643 457.497 C -72.463 469.945 -52.814 475.23 -22.605 477.957 C 27.753 482.499 77.071 470.11 122.694 441.458 C 149.752 424.467 151.379 431.704 106.11 367.655 C 84.332 336.839 66.335 311.434 66.115 311.196 C 65.897 310.96 65 311 63.277 312.297 Z"
          fill={fillColorTemplate}
          stroke={strokeColorTemplate}
          strokeWidth={strokeSpring}
          fillRule="evenodd"
          clipRule="evenodd"
          animate={controls}
        />
      </motion.svg>
    </motion.div>
  )
}
