
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====================== */
/* üåê BASE TYPOGRAPHIE    */
/* ====================== */
@layer base {
  body {
    @apply font-sans antialiased;
  }
  
  body.banner-dismissed header,
  body.banner-dismissed nav {
    top: 0 !important;
  }

  header, nav {
  transition: top 0.3s ease;
}

  main h1:first-of-type,
  main form:first-of-type {
    margin-top: 8rem;
  }
  
  
  label {
    @apply block text-anthracite font-semibold mb-1
  }
      
  h1, h2, h3 {
    @apply font-title text-anthracite;
  }

  h1 {
    @apply text-4xl font-bold;
  }
  h2 {
    @apply text-3xl font-semibold;
  }
  h3 {
    @apply text-2xl font-semibold;
  }

  p {
    @apply font-sans text-base text-anthracite;
  }

  .animated-h1 {
    @apply text-4xl md:text-5xl font-title font-semibold text-ardoise;
  }
  
  .animated-h2 {
    @apply text-3xl md:text-4xl font-title font-semibold text-ardoise;
  }
  
  .animated-wrapper {
    @apply bg-ivoire text-anthracite rounded-xl shadow-md px-6 py-12 md:px-10 md:py-16;
  }

  .hero {
    position: relative;
    overflow: hidden;
    /* Fallback natif pour tous : 100vh - nav */
    height: calc(100vh - var(--nav-height));
    /* Unit√© dynamique r√©cente (iOS15+, Chrome‚Ä¶) */
    height: calc(100dvh - var(--nav-height));
    /* Fallback JS / var(--vh) */
    height: calc(var(--vh) * 100 - var(--nav-height));
    /* Pour √©viter que le contenu se retrouve sous la safe-area iOS */
    padding-bottom: env(safe-area-inset-bottom);
  
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* üåê COULEURS BANDEAU COOKIE CNIL */
  :root {

      --cc-bg: var(--ardoise);
      --cc-text: var(--ivoire);
      --cc-btn-primary-bg: var(--dor√©);
      --cc-btn-primary-text: var(--anthracite);
      --cc-btn-secondary-bg: transparent;
      --cc-btn-secondary-text: var(--ivoire);
      --cc-btn-secondary-border: var(--dor√©);
      --cc-toggle-on-bg: var(--dor√©);
      --cc-toggle-off-bg: var(--acier);
      --cc-toggle-readonly-bg: var(--beigeClair);

    --nav-height: 80px;
    --vh: 1vh;
  }
}

html, body, #__next {
  height: 100%;
  overflow-x: hidden;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: y proximity;
}

/* ====================== */
/* üéõÔ∏è BOUTONS PERSONNALIS√âS Alforis am√©lior√©s */
/* ====================== */
@layer components {
  /* Bouton r√©tro : ambiance vintage, l√©ger skew et ombre port√©e */
  .btn-alforis-retro {
    @apply font-title uppercase tracking-widest text-base inline-block text-center
      text-ivoire bg-gradient-to-br from-ardoise to-gray-800
      px-8 py-4 rounded-lg border-2 border-dor√©
      shadow-lg transform hover:-rotate-1 hover:scale-105 active:scale-95
      transition-all duration-300 ease-in-out;
    position: relative;
  }
  .btn-alforis-retro::before {
    content: '';
    @apply absolute inset-0 rounded-lg bg-gradient-to-tr from-dor√©/30 to-yellow-400/20;
    transform: skew(-3deg, -1deg);
    z-index: -1;
  }

  /* Bouton outline : √©pur√©, animation de fond dor√© en hover */
  .btn-alforis-outline {
    @apply font-title uppercase tracking-widest text-base inline-block text-center
      text-dor√© bg-transparent px-8 py-4 rounded-lg border-2 border-dor√©
      hover:text-ivoire hover:bg-dor√© focus:ring-4 focus:ring-dor√©/50
      transition bg-clip-padding duration-200 ease-in-out;
  }

  /* Bouton RDV : forme pill, couleur de marque accentu√©e, effet pulse */
  .btn-alforis-rdv {
    @apply font-title uppercase tracking-widest text-sm inline-block text-center
      text-white bg-dor√© px-6 py-3 rounded-full border-none
      shadow-xl transform hover:scale-105 active:scale-95
      focus:outline-none focus:ring-4 focus:ring-dor√©/40
      transition-all duration-200 ease-out;
  }
  .btn-alforis-rdv:hover {
    animation: pulse 1.5s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
}


/* ====================== */
/* üß© UTILITAIRES VISUELS  */
/* ====================== */
@layer utilities {
  .fade {
    @apply transition-opacity duration-700 ease-in-out opacity-0;
  }

  .fade.visible {
    @apply opacity-100;
  }

  .fade-anim {
    opacity: 0;
    animation: fadeScale 1.8s ease-out forwards;
  }

.main-content {
    padding-top: calc(var(--cc-banner-height, 0px) + var(--nav-height, 80px));
}

  .z-base {
    z-index: 10;
  }
  .z-overlay {
    z-index: 40;
  }
  .z-nav {
    z-index: 50;
  }
  .z-modal {
    z-index: 60;
  }
  .cc-window,
  .cc-revoke {
  z-index: 99999 !important;
}

    /* Home page sp√©cifique : pas de padding-top */
    .home-content {
      padding-top: 0;
    }
    body.lock-scroll {
      overflow: hidden;
    }
    
  svg {
    stroke: var(--stroke-color, currentColor);
    fill: var(--fill-color, none);
  }

  .draw-animation {
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: draw 3s ease-out forwards;
  }

  @keyframes alforis-reveal {
    0% {
      opacity: 0;
      transform: scale(0.8);
      filter: blur(8px) brightness(0.5);
    }
    50% {
      opacity: 1;
      transform: scale(1.05);
      filter: blur(2px) brightness(1.3);
    }
    100% {
      opacity: 1;
      transform: scale(1);
      filter: blur(0px) brightness(1);
    }
  }
  
  .animate-alforis-reveal {
    animation: alforis-reveal 1.6s ease-out forwards;
  }
  
  .hero-sceau-wrapper {
    isolation: isolate;
    will-change: filter, opacity, transform;
  }
  
  @keyframes draw {
    to {
      stroke-dashoffset: 0;
    }
  }

  @keyframes fadeScale {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
}
